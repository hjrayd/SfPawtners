{% extends 'base.html.twig' %}

{% block title %} Détail de {{ cat }} {% endblock %}

{% block body %}
    <h1> Détail de {{ cat }} </h1>
    
    {% for image in cat.images %}
        <li>
            <img src="{{ asset(image) }}" alt="{{ image.imageAlt }}">
        </li>
    {% endfor %}
            Nom : {{ cat.name }} <br>
            Robe : {{ cat.coat }} <br>
            Age: {{ cat.age }} <br>
            Description: {{ cat.description }} <br> 
            Propriétaire : <a href="{{ path('show_user', {'id':cat.user.id})}}"> {{ cat.user }} </a> <br>
            Portée(s) : {{ cat.litterStatut }} <br>
            Vacciné : {{ cat.vaccinatedStatut }} <br>
            Race(s) : 

            {% for breed in cat.breeds %}
                {{ breed.breedName }} <br>
            {% endfor %}

            {#Ajout et suppression d'un like #}
            {% set likeStatus = app.user.likes|filter(cat => cat.id == cat.id) %} {# On recherche si l'id du chat apparait dans la collection de likes du user connecté #}
            <a href="{{ path('new_like', {'id': cat.id}) }}" class="btn-like">
                {{ likeStatus|length > 0 ? 'Unlike' : 'Like' }} {# si le user a déjà liker ce chat la longueur de la collection = 1 donc elle renvoie unlike #}
            </a>
       
        

            
</div>
{% endblock %}